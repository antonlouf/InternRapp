<h3 class="center-header">{{'addInternshipTitle' |translate}}</h3>
<form *ngIf="addInternshipForm" [formGroup]="addInternshipForm" class="form">
        <div class="flex-row" >
      <div >
        <mat-form-field >
            <mat-select formControlName="schoolYear"  >
                <mat-option   *ngFor="let date of availableDates()" [value]="date" >
                {{date}}
                </mat-option>
            </mat-select>
            <mat-error >
                {{'schoolyearErrorMessage' |translate}}
            </mat-error>
               </mat-form-field>
      </div>  


<div >
    <mat-form-field *ngIf="unitObs$ | async as options">
        <mat-label>Unit</mat-label>
        <input type="text"
               placeholder="Unit"
               aria-label="Unit"
               formControlName="unitId"
               matInput
            [matAutocomplete]="auto">
       <mat-autocomplete    autoActiveFirstOption #auto="matAutocomplete"   [displayWith]="convertOptionToName(options)" >
        <mat-option  *ngFor="let option of options" [value]="option.id" [id]="(option.id).toString()">
          {{option.name}}
        </mat-option>
      </mat-autocomplete>
      <mat-error >
        {{'unitEmptyErrorMessage' |translate}}
    </mat-error>
      </mat-form-field>
</div>

   
</div>
<div class="flex-row">
<div>
    <mat-form-field  >
        <mat-label> {{'maxCountOfStudentsLabel'|translate}}</mat-label>
        <input
        formControlName="maxStudents"
        matInput
        type="number"
        >
        <mat-error >
            {{'maxStudentsErrorMessage' |translate}}
        </mat-error>
    </mat-form-field>

</div>
<div>
    <mat-form-field  >
        <mat-label> {{'currentCountOfStudentsLabel'|translate}}</mat-label>
        <input 
        formControlName="currentCountOfStudents"
        matInput
        type="number"
  
        >
        <mat-error >
            {{'currentCountOfStudentsErrorMessage' |translate}}
        </mat-error>
    </mat-form-field>

</div>
</div>

<div class="flex-row" >

    <div id="trainingType">
      <mat-form-field >
        <mat-label>{{'trainingTypeLabel'|translate}}</mat-label>
          <mat-select  matNativeControl formControlName="trainingType" [compareWith]="compareTrainingType">
              <mat-option  *ngFor="let  availableTrainingType of availableTrainingTypes;" 
              value="{{trainingType[availableTrainingType]}}" 
               >
              {{availableTrainingType|translate}} 
              </mat-option>
            
          </mat-select>
      
          <mat-error >
              {{'schoolyearErrorMessage' |translate}}
          </mat-error>
             </mat-form-field>
    </div> 
    <div >

        <mat-form-field id="location">
            <mat-label>{{'locationFieldLabel'|translate}}</mat-label>
         
            <mat-select  formControlName="locations" multiple="true" [compareWith]="compareLocation" >
                <mat-option   *ngFor="let location of locationObs$|async" [value]="location" >
                {{location.streetname}} {{location.housenumber}},{{location.city}} {{location.zipcode}}
                </mat-option>
            </mat-select>
            <mat-error >
                {{'locationFieldEmptyMessage' |translate}}
            </mat-error>
               </mat-form-field>
    </div> 
    <div class="add-translation-button">
        <button  mat-icon-button  (click)="addLanguage()">
            <mat-icon>add</mat-icon>
        </button>
    </div>
   

    </div>

<mat-tab-group   mat-align-tabs="center" backgroundColor="primary"  formArrayName="translateTabs">
    <mat-tab  *ngFor="let tab of tabs" label="{{getFormGroupOutOfAbstractControl(tab).controls['languageName'].value}}"> 
        <intern-rapp-translation-add-form
        [internshipTranslationForm]="getFormGroupOutOfAbstractControl(tab)"
        >

        </intern-rapp-translation-add-form>
    </mat-tab>

  </mat-tab-group>
  <button [disabled]="!this.addInternshipForm.valid||tabsArrayLength<1||tabIsInvalid" type="button" class="save-button" mat-icon-button  (click)="addInternship()">
    <mat-icon>save</mat-icon>
</button>
    </form>
      
      
    
